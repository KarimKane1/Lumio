"use client";
import React, { createContext, useContext, useMemo, useEffect, useState } from 'react';
import { useAuth } from '../components/context/AuthContext';

type Messages = Record<string, string>;

const en: Messages = {
  'app.title': 'Trust Network',
  'nav.connections': 'Connections',
  'nav.services': 'Services',
  'nav.recommendations': 'My Recommendations',
  'nav.profile': 'Profile',
  'provider.tabs.profile': 'Profile',
  'provider.tabs.recommendations': 'Recommendations',
  'provider.tabs.share': 'Share Profile',
  'services.title': 'Service Providers',
  'services.subtitle': 'Find trusted service providers through your network',
  'services.search': 'Search providers...',
  'services.showMore': 'Show more categories',
  'services.guestCtaText': 'Want to see all available service providers?',
  'auth.createAccount': 'Create Account',
  'auth.join': 'Join the trusted network',
  'auth.iAm': 'I am a',
  'auth.language': 'Language',
  'auth.fullName': 'Full Name',
  'auth.fullNamePh': 'Enter your full name',
  'auth.whatsAppPhone': 'WhatsApp Phone Number',
  'auth.phone': 'Phone Number',
  'auth.phonePh': '70 123 4567',
  'auth.cities': 'Cities',
  'auth.selectCities': 'Select cities',
  'auth.password': 'Password',
  'auth.createPassword': 'Create a password',
  'auth.confirmPassword': 'Confirm Password',
  'auth.confirmPasswordPh': 'Confirm your password',
  'auth.creating': 'Creating Account...',
  'auth.alreadyHave': 'Already have an account?',
  'auth.signIn': 'Sign In',
  'auth.welcomeBack': 'Welcome Back',
  'auth.signInSubtitle': 'Sign in to your account',
  'auth.signingIn': 'Signing In...',
  'auth.dontHave': "Don't have an account?",
  'landing.tagline': 'Digitizing trust through verified recommendations. Connect with reliable service providers through your network.',
  'landing.trusted': 'Trusted Networks',
  'landing.trustedText': 'Build your network of trusted service providers and connections',
  'landing.verified': 'Verified Recommendations',
  'landing.verifiedText': 'Get recommendations from people you trust in your network',
  'landing.quick': 'Quick Connect',
  'landing.quickText': 'Instantly connect with service providers via WhatsApp',
  'landing.getStarted': 'Get Started',
  'landing.getStartedText': 'Join the trusted network or browse as a guest',
  'landing.browseGuest': 'Browse as Guest',
  'connections.title': 'Your Trusted Network',
  'connections.subtitle': "People you're connected with and their recommendations",
  'connections.findPeople': 'Find People',
  'connections.requests': 'Requests',
  'connections.grow': 'Grow Your Network',
  'connections.growText': "The more friends you have, the better recommendations you'll get",
  'connections.invite': 'Invite Friends',
  'connections.guestCtaText': 'Want to see all your connections?',
  'recs.title': 'My Recommendations',
  'recs.subtitle': 'Manage and share your trusted service providers',
  'recs.addTitle': 'Add New Recommendation',
  'recs.addSubtitle': 'Know a great service provider? Share them with your network',
  'recs.addCta': 'Add Recommendation',
  'recs.listTitle': 'Your Recommendations',
  'recs.whatYouLiked': 'What You Liked',
  'recs.watchFor': 'Things to Watch For',
  'recs.guestCtaText': 'Want to see all your recommendations?',
  'recs.recommendationDetails': 'Recommendation Details',
  'recs.editRecommendation': 'Edit Recommendation',
  'recs.providerName': 'Provider Name',
  'recs.serviceType': 'Service Type',
  'recs.phoneNumber': 'Phone Number',
  'recs.location': 'Location',
  'recs.optional': 'Optional',
  'recs.adding': 'Adding...',
  'recs.addRecommendation': 'Add Recommendation',
  'recs.enterProviderName': 'Enter provider name',
  'recs.selectServiceType': 'Select service type',
  'recs.jobQuality': 'Job quality',
  'recs.timeliness': 'Timeliness',
  'recs.cleanOrganized': 'Clean & Organized',
  'recs.professional': 'Professional',
  'recs.reliableTrustworthy': 'Reliable & Trustworthy',
  'recs.fairPricing': 'Fair pricing',
  'recs.expensive': 'Expensive',
  'recs.limitedAvailability': 'Limited availability',
  'recs.punctuality': 'Punctuality',
  'recs.communication': 'Communication',
  'connections.back': 'Back',
  'connections.connected': 'Connected',
  'connections.theirTrustedProviders': 'Their Trusted Providers',
  'connections.serviceProvidersRecommendedBy': 'Service providers recommended by',
  'connections.whatLiked': 'What {name} Liked',
  'connections.contactViaWhatsApp': 'Contact via WhatsApp',
  'connections.viewRecommendations': 'View Recommendations',
  'connections.view': 'View',
  'provider.providerDetails': 'Provider Details',
  'provider.privateNumber': 'Private number',
  'provider.recommendedBy': 'Recommended by',
  'common.contact': 'Contact',
  'common.share': 'Share',
  'common.delete': 'Delete',
  'common.public': 'Public',
  'common.manage': 'Manage',
  'common.cancel': 'Cancel',
  'profile.myProfile': 'My Profile',
  'profile.subtitle': 'Your trust network profile and settings',
  'profile.yourNetwork': 'Your Network',
  'profile.connections': 'Connections',
  'profile.recommendations': 'Recommendations',
  'profile.edit': 'Edit',
  'profile.editProfile': 'Edit Profile',
  'profile.settings': 'Profile Settings',
  'profile.visibility': 'Profile Visibility',
  'profile.visibilityDesc': 'Who can see your profile and recommendations',
  'profile.notifications': 'Notification Settings',
  'profile.notificationsDesc': 'Manage how you receive updates',
  'profile.languageHelp': 'This changes the language across your account.',
  'common.save': 'Save changes',
  'common.saving': 'Saving...',
  'onboard.seeker.welcome.title': 'Welcome to Trust Network! ðŸ‘‹',
  'onboard.seeker.welcome.desc': 'Let\'s take a quick tour to show you how to find trusted service providers through your network.',
  'onboard.seeker.connections-tab.title': 'Start with Connections',
  'onboard.seeker.connections-tab.desc': 'This is where you build your trusted network. Connect with friends and family to access their recommendations.',
  'onboard.seeker.invite-friends.title': 'Invite Friends',
  'onboard.seeker.invite-friends.desc': 'Click here to invite friends. The more connections you have, the better recommendations you\'ll get!',
  'onboard.seeker.click-connections.title': 'View Their Recommendations',
  'onboard.seeker.click-connections.desc': 'Click on any person to see the service providers they recommend. This is the core of Trust Network!',
  'onboard.seeker.services-tab.title': 'Find Service Providers',
  'onboard.seeker.services-tab.desc': 'Switch to Services to browse providers recommended by your network.',
  'onboard.seeker.search-providers.title': 'Search & Filter',
  'onboard.seeker.search-providers.desc': 'Use the search bar and categories to find exactly what you need.',
  'onboard.seeker.recommendations-tab.title': 'Add Your Recommendations',
  'onboard.seeker.recommendations-tab.desc': 'Know a great service provider? Add them here to help your network!',
  'onboard.seeker.add-recommendation-button.title': 'Add Service Providers',
  'onboard.seeker.add-recommendation-button.desc': 'Click here to add a trusted service provider to your recommendations and share them with your network.',
  'onboard.seeker.profile-tab.title': 'Your Profile',
  'onboard.seeker.profile-tab.desc': 'Manage your account settings and view your network stats here.',
  'onboard.provider.welcome.title': 'Welcome to Trust Network! ðŸ‘‹',
  'onboard.provider.welcome.desc': 'Let\'s show you how to grow your business through trusted recommendations.',
  'onboard.provider.recommendations-view.title': 'My Recommendations',
  'onboard.provider.recommendations-view.desc': 'View how many people recommend you and who trusts your services.',
  'onboard.provider.share-profile.title': 'Share Your Profile',
  'onboard.provider.share-profile.desc': 'Share your profile so others can recommend you to their network.',
  'role.seeker': 'Seeker',
  'role.provider': 'Provider',
  'category.all': 'All',
  'category.plumber': 'Plumber',
  'category.cleaner': 'Cleaner',
  'category.tech_repair': 'Tech Repair',
  'category.gardener': 'Gardener',
  'category.electrician': 'Electrician',
  'category.carpenter': 'Carpenter',
  'category.cook': 'Cook',
  'category.driver': 'Driver',
  'category.security': 'Security',
  'category.painter': 'Painter',
  'category.mechanic': 'Mechanic',
  'category.nanny': 'Nanny',
  'category.hair': 'Hair',
  'category.henna': 'Henna',
  'category.chef': 'Chef',
  // Provider-specific translations
  'provider.recommendations': 'Recommendations',
  'provider.welcome': 'Welcome!',
  'provider.welcomeMessage': 'people have already recommended you. ðŸŽ‰',
  'provider.peopleRecommend': 'People Who Recommend You',
  'provider.seeWhoTrusts': 'See who trusts and recommends your services',
  'provider.loading': 'Loading...',
  'provider.noRecommendations': 'No recommendations yet.',
  'provider.whatTheyLiked': 'What They Liked',
  'provider.thingsToWatch': 'Things to Watch For',
  'provider.shareProfile': 'Share Your Profile',
  'provider.getMoreRecommendations': 'Get more recommendations by sharing your profile with customers',
  'provider.qrCode': 'QR Code',
  'provider.shareLink': 'Share Link',
  'provider.showQrToCustomers': 'Show this QR code to customers so they can easily add you to their recommendations',
  'provider.copied': 'Copied!',
  'provider.copyLink': 'Copy Link',
  'provider.shareViaWhatsApp': 'Share via WhatsApp',
  'provider.howToGetMore': 'How to Get More Recommendations',
  'provider.step1': 'Share your profile link or QR code with satisfied customers',
  'provider.step2': 'They can add you to their trusted providers even without an account',
  'provider.step3': 'More recommendations mean more visibility to their network',
  'provider.saving': 'Saving...',
  'provider.welcomeToJokko': 'Welcome to Jokko!',
  'provider.autoRecommendations': 'If people recommended your services before you joined, they\'ll appear here automatically.',
  'provider.gotIt': 'Got it',
  // Service provider recommendation translations
  'services.recommendedBy': 'Recommended by',
  'services.recommendedByNetwork': 'people in your network',
  'services.recommendedByOne': 'person in your network',
  'services.noNetworkRecommendations': 'No one in your network has recommended this provider yet',
  'services.viewAllRecommendations': 'View all recommendations',
  'services.recommendations': 'Recommendations',
  'services.peopleWhoRecommended': 'People who recommended this provider',
};

const fr: Messages = {
  'app.title': 'RÃ©seau de Confiance',
  'nav.connections': 'Connexions',
  'nav.services': 'Services',
  'nav.recommendations': 'Mes recommandations',
  'nav.profile': 'Profil',
  'provider.tabs.profile': 'Profil',
  'provider.tabs.recommendations': 'Recommandations',
  'provider.tabs.share': 'Partager le profil',
  'services.title': 'Prestataires de services',
  'services.subtitle': 'Trouvez des prestataires fiables via votre rÃ©seau',
  'services.search': 'Rechercher des prestataires...',
  'services.showMore': 'Afficher plus de catÃ©gories',
  'services.guestCtaText': 'Vous voulez voir tous les prestataires disponibles ?',
  'auth.createAccount': 'CrÃ©er un compte',
  'auth.join': 'Rejoignez le rÃ©seau de confiance',
  'auth.iAm': 'Je suis',
  'auth.language': 'Langue',
  'auth.fullName': 'Nom complet',
  'auth.fullNamePh': 'Entrez votre nom complet',
  'auth.whatsAppPhone': 'NumÃ©ro WhatsApp',
  'auth.phone': 'NumÃ©ro de tÃ©lÃ©phone',
  'auth.phonePh': '70 123 4567',
  'auth.cities': 'Villes',
  'auth.selectCities': 'SÃ©lectionnez des villes',
  'auth.password': 'Mot de passe',
  'auth.createPassword': 'CrÃ©er un mot de passe',
  'auth.confirmPassword': 'Confirmez le mot de passe',
  'auth.confirmPasswordPh': 'Confirmez votre mot de passe',
  'auth.creating': 'CrÃ©ation du compte...',
  'auth.alreadyHave': 'Vous avez dÃ©jÃ  un compte ?',
  'auth.signIn': 'Se connecter',
  'auth.welcomeBack': 'Bon retour',
  'auth.signInSubtitle': 'Connectez-vous Ã  votre compte',
  'auth.signingIn': 'Connexion...',
  'auth.dontHave': "Vous n'avez pas de compte ?",
  'landing.tagline': 'Digitaliser la confiance grÃ¢ce aux recommandations vÃ©rifiÃ©es. Connectez-vous Ã  des prestataires fiables via votre rÃ©seau.',
  'landing.trusted': 'RÃ©seaux de confiance',
  'landing.trustedText': 'DÃ©veloppez votre rÃ©seau de prestataires et de connexions',
  'landing.verified': 'Recommandations vÃ©rifiÃ©es',
  'landing.verifiedText': 'Recevez des recommandations de personnes de confiance',
  'landing.quick': 'Connexion rapide',
  'landing.quickText': 'Contactez instantanÃ©ment via WhatsApp',
  'landing.getStarted': 'Commencer',
  'landing.getStartedText': 'Rejoignez le rÃ©seau ou naviguez en invitÃ©',
  'landing.browseGuest': 'Parcourir en invitÃ©',
  'connections.title': 'Votre rÃ©seau de confiance',
  'connections.subtitle': 'Les personnes avec qui vous Ãªtes connectÃ© et leurs recommandations',
  'connections.findPeople': 'Trouver des personnes',
  'connections.requests': 'Demandes',
  'connections.grow': 'DÃ©veloppez votre rÃ©seau',
  'connections.growText': 'Plus vous avez dâ€™amis, meilleures seront vos recommandations',
  'connections.invite': 'Inviter des amis',
  'connections.guestCtaText': 'Vous voulez voir toutes vos connexions ?',
  'recs.title': 'Mes recommandations',
  'recs.subtitle': 'GÃ©rez et partagez vos prestataires de confiance',
  'recs.addTitle': 'Ajouter une recommandation',
  'recs.addSubtitle': 'Vous connaissez un excellent prestataire ? Partagez-le avec votre rÃ©seau',
  'recs.addCta': 'Ajouter',
  'recs.listTitle': 'Vos recommandations',
  'recs.whatYouLiked': 'Ce que vous avez aimÃ©',
  'recs.watchFor': 'Points d\'attention',
  'recs.guestCtaText': 'Vous voulez voir toutes vos recommandations ?',
  'recs.recommendationDetails': 'DÃ©tails de la recommandation',
  'recs.editRecommendation': 'Modifier la recommandation',
  'recs.providerName': 'Nom du prestataire',
  'recs.serviceType': 'Type de service',
  'recs.phoneNumber': 'NumÃ©ro de tÃ©lÃ©phone',
  'recs.location': 'Localisation',
  'recs.optional': 'Optionnel',
  'recs.adding': 'Ajout en cours...',
  'recs.addRecommendation': 'Ajouter une recommandation',
  'recs.enterProviderName': 'Entrez le nom du prestataire',
  'recs.selectServiceType': 'SÃ©lectionnez le type de service',
  'recs.jobQuality': 'QualitÃ© du travail',
  'recs.timeliness': 'PonctualitÃ©',
  'recs.cleanOrganized': 'Propre et organisÃ©',
  'recs.professional': 'Professionnel',
  'recs.reliableTrustworthy': 'Fiable et digne de confiance',
  'recs.fairPricing': 'Tarifs Ã©quitables',
  'recs.expensive': 'Cher',
  'recs.limitedAvailability': 'DisponibilitÃ© limitÃ©e',
  'recs.punctuality': 'PonctualitÃ©',
  'recs.communication': 'Communication',
  'connections.back': 'Retour',
  'connections.connected': 'ConnectÃ©',
  'connections.theirTrustedProviders': 'Leurs prestataires de confiance',
  'connections.serviceProvidersRecommendedBy': 'Prestataires recommandÃ©s par',
  'connections.whatLiked': 'Ce que {name} a aimÃ©',
  'connections.contactViaWhatsApp': 'Contacter via WhatsApp',
  'connections.viewRecommendations': 'Voir les recommandations',
  'connections.view': 'Voir',
  'provider.providerDetails': 'DÃ©tails du prestataire',
  'provider.privateNumber': 'NumÃ©ro privÃ©',
  'provider.recommendedBy': 'RecommandÃ© par',
  'common.contact': 'Contacter',
  'common.share': 'Partager',
  'common.delete': 'Supprimer',
  'common.public': 'Public',
  'common.manage': 'GÃ©rer',
  'common.cancel': 'Annuler',
  'profile.myProfile': 'Mon profil',
  'profile.subtitle': 'Votre profil et paramÃ¨tres du rÃ©seau de confiance',
  'profile.yourNetwork': 'Votre rÃ©seau',
  'profile.connections': 'Connexions',
  'profile.recommendations': 'Recommandations',
  'profile.edit': 'Modifier',
  'profile.editProfile': 'Modifier le profil',
  'profile.settings': 'ParamÃ¨tres du profil',
  'profile.visibility': 'VisibilitÃ© du profil',
  'profile.visibilityDesc': 'Qui peut voir votre profil et vos recommandations',
  'profile.notifications': 'ParamÃ¨tres de notification',
  'profile.notificationsDesc': 'GÃ©rer la maniÃ¨re dont vous recevez les mises Ã  jour',
  'profile.languageHelp': 'Cela modifie la langue sur tout votre compte.',
  'common.save': 'Enregistrer',
  'common.saving': 'Enregistrement...',
  'onboard.seeker.welcome.title': 'Bienvenue sur RÃ©seau de Confiance ! ðŸ‘‹',
  'onboard.seeker.welcome.desc': 'Faisons un tour rapide pour vous montrer comment trouver des prestataires de confiance via votre rÃ©seau.',
  'onboard.seeker.connections-tab.title': 'Commencez par Connexions',
  'onboard.seeker.connections-tab.desc': 'C\'est ici que vous construisez votre rÃ©seau. Connectez-vous pour accÃ©der aux recommandations.',
  'onboard.seeker.invite-friends.title': 'Inviter des amis',
  'onboard.seeker.invite-friends.desc': 'Plus vous avez de connexions, meilleures seront vos recommandations.',
  'onboard.seeker.click-connections.title': 'Voir leurs recommandations',
  'onboard.seeker.click-connections.desc': 'Cliquez sur une personne pour voir les prestataires qu\'elle recommande.',
  'onboard.seeker.services-tab.title': 'Trouver des prestataires',
  'onboard.seeker.services-tab.desc': 'Passez Ã  Services pour parcourir les prestataires recommandÃ©s.',
  'onboard.seeker.search-providers.title': 'Rechercher & filtrer',
  'onboard.seeker.search-providers.desc': 'Utilisez la recherche et les catÃ©gories pour trouver exactement ce qu\'il vous faut.',
  'onboard.seeker.recommendations-tab.title': 'Ajoutez vos recommandations',
  'onboard.seeker.recommendations-tab.desc': 'Ajoutez ici les prestataires que vous apprÃ©ciez.',
  'onboard.seeker.add-recommendation-button.title': 'Ajouter un prestataire',
  'onboard.seeker.add-recommendation-button.desc': 'Cliquez ici pour ajouter un prestataire Ã  vos recommandations.',
  'onboard.seeker.profile-tab.title': 'Votre profil',
  'onboard.seeker.profile-tab.desc': 'GÃ©rez votre compte et consultez vos statistiques.',
  'onboard.provider.welcome.title': 'Bienvenue sur RÃ©seau de Confiance ! ðŸ‘‹',
  'onboard.provider.welcome.desc': 'Voici comment dÃ©velopper votre activitÃ© grÃ¢ce aux recommandations.',
  'onboard.provider.recommendations-view.title': 'Mes recommandations',
  'onboard.provider.recommendations-view.desc': 'Voyez qui vous recommande et combien.',
  'onboard.provider.share-profile.title': 'Partager votre profil',
  'onboard.provider.share-profile.desc': 'Partagez votre profil pour Ãªtre recommandÃ© dans d\'autres rÃ©seaux.',
  'role.seeker': 'Demandeur',
  'role.provider': 'Prestataire',
  'category.all': 'Tous',
  'category.plumber': 'Plombier',
  'category.cleaner': 'Femme/Homme de mÃ©nage',
  'category.tech_repair': 'RÃ©paration tech',
  'category.gardener': 'Jardinier',
  'category.electrician': 'Ã‰lectricien',
  'category.carpenter': 'Menuisier',
  'category.cook': 'Cuisinier',
  'category.driver': 'Chauffeur',
  'category.security': 'SÃ©curitÃ©',
  'category.painter': 'Peintre',
  'category.mechanic': 'MÃ©canicien',
  'category.nanny': 'Nounou',
  'category.hair': 'Coiffure',
  'category.henna': 'HennÃ©',
  'category.chef': 'Chef',
  // Provider-specific translations
  'provider.recommendations': 'Recommandations',
  'provider.welcome': 'Bienvenue !',
  'provider.welcomeMessage': 'personnes vous ont dÃ©jÃ  recommandÃ©. ðŸŽ‰',
  'provider.peopleRecommend': 'Personnes qui vous recommandent',
  'provider.seeWhoTrusts': 'Voyez qui fait confiance et recommande vos services',
  'provider.loading': 'Chargement...',
  'provider.noRecommendations': 'Aucune recommandation pour le moment.',
  'provider.whatTheyLiked': 'Ce qu\'ils ont aimÃ©',
  'provider.thingsToWatch': 'Points d\'attention',
  'provider.shareProfile': 'Partager votre profil',
  'provider.getMoreRecommendations': 'Obtenez plus de recommandations en partageant votre profil avec vos clients',
  'provider.qrCode': 'Code QR',
  'provider.shareLink': 'Lien de partage',
  'provider.showQrToCustomers': 'Montrez ce code QR aux clients pour qu\'ils puissent facilement vous ajouter Ã  leurs recommandations',
  'provider.copied': 'CopiÃ© !',
  'provider.copyLink': 'Copier le lien',
  'provider.shareViaWhatsApp': 'Partager via WhatsApp',
  'provider.howToGetMore': 'Comment obtenir plus de recommandations',
  'provider.step1': 'Partagez votre lien de profil ou code QR avec vos clients satisfaits',
  'provider.step2': 'Ils peuvent vous ajouter Ã  leurs prestataires de confiance mÃªme sans compte',
  'provider.step3': 'Plus de recommandations signifie plus de visibilitÃ© dans leur rÃ©seau',
  'provider.saving': 'Sauvegarde...',
  'provider.welcomeToJokko': 'Bienvenue sur Jokko !',
  'provider.autoRecommendations': 'Si des personnes ont recommandÃ© vos services avant votre inscription, elles apparaÃ®tront ici automatiquement.',
  'provider.gotIt': 'Compris',
  // Service provider recommendation translations
  'services.recommendedBy': 'RecommandÃ© par',
  'services.recommendedByNetwork': 'personnes de votre rÃ©seau',
  'services.recommendedByOne': 'personne de votre rÃ©seau',
  'services.noNetworkRecommendations': 'Personne de votre rÃ©seau n\'a encore recommandÃ© ce prestataire',
  'services.viewAllRecommendations': 'Voir toutes les recommandations',
  'services.recommendations': 'Recommandations',
  'services.peopleWhoRecommended': 'Personnes qui ont recommandÃ© ce prestataire',
};

const wo: Messages = {
  'app.title': 'JÃ mm ju dÃ«gg',
  'nav.connections': 'Mbind yi',
  'nav.services': 'Sarwiis',
  'nav.recommendations': 'Samay ndigal',
  'nav.profile': 'Samp bi',
  'provider.tabs.profile': 'Samp bi',
  'provider.tabs.recommendations': 'Ndigaal yi',
  'provider.tabs.share': 'Bokk samp bi',
  'services.title': 'Sarwiis yi',
  'services.subtitle': 'Gis sarwiis yu wÃ©r ci sa mbokk',
  'services.search': 'Seet sarwiis...',
  'services.showMore': 'Wone goor gi yeneen',
  'services.guestCtaText': 'Ndax bÃ«gg ngeen gis sarwiis yÃ©pp?',
  'auth.createAccount': 'Sos akÃ unt',
  'auth.join': 'Bokk ci rÃ©seau ju wÃ©r',
  'auth.iAm': 'Man maa ngi',
  'auth.language': 'LÃ kk',
  'auth.fullName': 'Turu mat',
  'auth.fullNamePh': 'Dugal sa turu mat',
  'auth.whatsAppPhone': 'Waasap numeer',
  'auth.phone': 'Numeer telefon',
  'auth.phonePh': '70 123 4567',
  'auth.cities': 'DÃ«kki yi',
  'auth.selectCities': 'TÃ nn dÃ«kki yi',
  'auth.password': 'Baatu jÃ ll',
  'auth.createPassword': 'Sos baatu jÃ ll',
  'auth.confirmPassword': 'DÃ«ggal baatu jÃ ll',
  'auth.confirmPasswordPh': 'DÃ«ggal sa baatu jÃ ll',
  'auth.creating': 'Mi ngi sos akÃ unt...',
  'auth.alreadyHave': 'Am nga akÃ unt ?',
  'auth.signIn': 'Dugg',
  'auth.welcomeBack': 'Agsil ci kanam',
  'auth.signInSubtitle': 'Dugg ci sa akÃ unt',
  'auth.signingIn': 'Mi ngi dugg...',
  'auth.dontHave': 'Amuloo akÃ unt ?',
  'landing.tagline': 'Ã‘u digitalise wÃ³or te mÃ«n a gÃ«m. Jokk ak sarwiiser yu wÃ©r ci sa mbokk.',
  'landing.trusted': 'RÃ©seau yu wÃ©r',
  'landing.trustedText': 'Yokk sa rÃ©seauu sarwiiser ak mbokk',
  'landing.verified': 'Ndigaal yu wÃ³or',
  'landing.verifiedText': 'JÃ«l ndigaal ci nit Ã±i nga gÃ«m',
  'landing.quick': 'Jokkoo gaaw',
  'landing.quickText': 'Jokkofal ci WhatsApp leegi',
  'landing.getStarted': 'Tambali',
  'landing.getStartedText': 'Bokk ci rÃ©seau bi walla saytu niki dÃ«kkandoo',
  'landing.browseGuest': 'Saytu niki dÃ«kkandoo',
  'connections.title': 'Sa xarit yi yu wÃ©r',
  'connections.subtitle': 'Nit Ã±i nga boole ak seen ndigaal yi',
  'connections.findPeople': 'Seet nit Ã±i',
  'connections.requests': 'DÃ«mmande yi',
  'connections.grow': 'Yokk sa xarit',
  'connections.growText': 'Boo amee xarit yu bari, ndigaal yi gÃ«na baax la',
  'connections.invite': 'Wut xarit',
  'connections.guestCtaText': 'Ndax bÃ«gg nga gis say xarit yÃ©pp?',
  'recs.title': 'Samay ndigal',
  'recs.subtitle': 'Saytlu te bokk sarwiis yi nga gÃ«m',
  'recs.addTitle': 'Yokk ndigal bu bees',
  'recs.addSubtitle': 'Boo xamee sarwiis bu baax, bokk ko ak sa mbokk',
  'recs.addCta': 'Yokk ndigal',
  'recs.listTitle': 'Say ndigal',
  'recs.whatYouLiked': 'Loo bÃ«gg',
  'recs.watchFor': 'LÃ©pp yu war a seetlu',
  'recs.guestCtaText': 'Ndax bÃ«gg nga gis say ndigal yÃ©pp?',
  'recs.recommendationDetails': 'Xam-xam ndigal bi',
  'recs.editRecommendation': 'Soppi ndigal bi',
  'recs.providerName': 'Tur sarwiiser bi',
  'recs.serviceType': 'Turu sarwiis bi',
  'recs.phoneNumber': 'Numeer telefon',
  'recs.location': 'BÃ«j-gÃ nnaar',
  'recs.optional': 'MÃ«n a am',
  'recs.adding': 'Mi ngi yokk...',
  'recs.addRecommendation': 'Yokk ndigal',
  'recs.enterProviderName': 'Dugal tur sarwiiser bi',
  'recs.selectServiceType': 'TÃ nn turu sarwiis bi',
  'recs.jobQuality': 'Melu liggÃ©ey bi',
  'recs.timeliness': 'WÃ llu jamono',
  'recs.cleanOrganized': 'Set ak jÃ«fandikoo',
  'recs.professional': 'JÃ«fandikoo',
  'recs.reliableTrustworthy': 'WÃ³or ak gÃ«m',
  'recs.fairPricing': 'NjÃ ng mu wÃ³or',
  'recs.expensive': 'Jafe',
  'recs.limitedAvailability': 'Amul jamono',
  'recs.punctuality': 'WÃ llu jamono',
  'recs.communication': 'Waxtaan',
  'connections.back': 'Dellu',
  'connections.connected': 'Jokkoo',
  'connections.theirTrustedProviders': 'Seen sarwiis yu wÃ©r',
  'connections.serviceProvidersRecommendedBy': 'Sarwiis yi Ã±u ndiggal',
  'connections.whatLiked': 'Loo {name} bÃ«gg',
  'connections.contactViaWhatsApp': 'Jokkool ci WhatsApp',
  'connections.viewRecommendations': 'Gis ndigal yi',
  'connections.view': 'Gis',
  'provider.providerDetails': 'Xam-xam sarwiiser bi',
  'provider.privateNumber': 'Numeer bu Ã±uul',
  'provider.recommendedBy': 'Ndigaal naÃ±u ko',
  'common.contact': 'Jokkool',
  'common.share': 'Bokk',
  'common.delete': 'MÃ bb',
  'common.public': 'Baayi',
  'common.manage': 'Saytu',
  'common.cancel': 'MÃ bb',
  'profile.myProfile': 'Samp bi',
  'profile.subtitle': 'Sa samp ak tektal yi',
  'profile.yourNetwork': 'Sa rÃ©seau',
  'profile.connections': 'Xarit yi',
  'profile.recommendations': 'Ndigaal yi',
  'profile.edit': 'Soppi',
  'profile.editProfile': 'Soppi profil bi',
  'profile.settings': 'Tektal samp',
  'profile.visibility': 'Wone samp bi',
  'profile.visibilityDesc': 'Kan mooy gis sa samp ak ndigaal yi',
  'profile.notifications': 'Tektal xibaar yi',
  'profile.notificationsDesc': 'Na nga saytu nanu la koy yeggali',
  'profile.languageHelp': 'Lii lay soppi lÃ kk bi ci sa akÃ unt bÃ©pp.',
  'common.save': 'Aar soppi yi',
  'common.saving': 'Mi ngi aar...',
  'onboard.seeker.welcome.title': 'Nuyoo ci Trust Network! ðŸ‘‹',
  'onboard.seeker.welcome.desc': 'Nanu la wone banqaasu yoon ngir founde sarwiis yu wÃ©r ci sa rÃ©seau.',
  'onboard.seeker.connections-tab.title': 'TÃ mbali ak Xarit',
  'onboard.seeker.connections-tab.desc': 'Fii la nga gÃ«n a yokk sa rÃ©seau, jokkoo ak mbokk.',
  'onboard.seeker.invite-friends.title': 'Woo xarit',
  'onboard.seeker.invite-friends.desc': 'Bu xarit yi yoree, ndigaal yi gÃ«na baax.',
  'onboard.seeker.click-connections.title': 'Xool seen ndigaal',
  'onboard.seeker.click-connections.desc': 'Cuqal ci benn nit ngir gis sarwiis yi muy ndiggal.',
  'onboard.seeker.services-tab.title': 'Seet sarwiis',
  'onboard.seeker.services-tab.desc': 'Gis sarwiis yi nga mbokk a ndiggal.',
  'onboard.seeker.search-providers.title': 'Wut & sÃ lloo',
  'onboard.seeker.search-providers.desc': 'JÃ«fandikoo seet gi ak kategooriye yi.',
  'onboard.seeker.recommendations-tab.title': 'Yokk say ndigaal',
  'onboard.seeker.recommendations-tab.desc': 'Yokk sarwiis bu baax ngir dimbali sa rÃ©seau.',
  'onboard.seeker.add-recommendation-button.title': 'Yokk sarwiiser',
  'onboard.seeker.add-recommendation-button.desc': 'Cuqal fii ngir yokk sarwiiser ci say ndigaal.',
  'onboard.seeker.profile-tab.title': 'Sa samp',
  'onboard.seeker.profile-tab.desc': 'Saytu sa koont ak sa statistique.',
  'onboard.provider.welcome.title': 'Nuyoo ci Trust Network! ðŸ‘‹',
  'onboard.provider.welcome.desc': 'Nanu la wone nan laa mÃ«n a yokk sa liggÃ©ey ci ndigaal.',
  'onboard.provider.recommendations-view.title': 'Samay ndigaal',
  'onboard.provider.recommendations-view.desc': 'Xool Ã±i daÃ±u la ndiggal ak lim bi.',
  'onboard.provider.share-profile.title': 'Bokk sa samp',
  'onboard.provider.share-profile.desc': 'Bokk sa samp ngir Ã±u mÃ«n la ndiggal ci seen rÃ©seau.',
  'role.seeker': 'Seeter',
  'role.provider': 'Sarwiiser',
  'category.all': 'LÃ©pp',
  'category.plumber': 'Plombie',
  'category.cleaner': 'Nettali',
  'category.tech_repair': 'Tekineek bayyi',
  'category.gardener': 'Jardineer',
  'category.electrician': 'Elekterisyaan',
  'category.carpenter': 'SerÃ± kat',
  'category.cook': 'Togkat',
  'category.driver': 'ChofÃ«Ã«r',
  'category.security': 'KÃ ttan',
  'category.painter': 'Peentkat',
  'category.mechanic': 'Mekaanik',
  'category.nanny': 'Suturaal/jaaykat doom',
  'category.hair': 'TaaÃ±/koofi',
  'category.henna': 'Henne',
  'category.chef': 'Togkat',
  // Provider-specific translations
  'provider.recommendations': 'Ndigaal yi',
  'provider.welcome': 'Nuyoo !',
  'provider.welcomeMessage': 'nit Ã±u la ndiggal naÃ±u. ðŸŽ‰',
  'provider.peopleRecommend': 'Nit Ã±i daÃ±u la ndiggal',
  'provider.seeWhoTrusts': 'Xool Ã±i daÃ±u la gÃ«m ak Ã±i daÃ±u la ndiggal',
  'provider.loading': 'JÃ pp...',
  'provider.noRecommendations': 'Amul ndigaal ci tay.',
  'provider.whatTheyLiked': 'Luy leen nÃ q',
  'provider.thingsToWatch': 'Luy war a xool',
  'provider.shareProfile': 'Bokk sa samp',
  'provider.getMoreRecommendations': 'Am ndigaal yu bare ci bokk sa samp ak say jÃ«fandikoo',
  'provider.qrCode': 'Kood QR',
  'provider.shareLink': 'Lien bu bokk',
  'provider.showQrToCustomers': 'Wone kood QR bi jÃ«fandikoo yi ngir Ã±u mÃ«n la yokk ci seen ndigaal',
  'provider.copied': 'Kopi naÃ±u !',
  'provider.copyLink': 'Kopi lien bi',
  'provider.shareViaWhatsApp': 'Bokk ci WhatsApp',
  'provider.howToGetMore': 'Nan laa mÃ«n a am ndigaal yu bare',
  'provider.step1': 'Bokk sa lien de samp walla kood QR ak jÃ«fandikoo yu bÃ«gg',
  'provider.step2': 'Ã‘u mÃ«n la yokk ci seen sarwiis yu gÃ«m teewul amul koont',
  'provider.step3': 'Ndigaal yu bare tekki wone yu bare ci seen rÃ©seau',
  'provider.saving': 'JÃ pp...',
  'provider.welcomeToJokko': 'Nuyoo ci Jokko !',
  'provider.autoRecommendations': 'Su nit Ã±i daÃ±u la ndiggal ci ndaxal sa liggÃ©ey, dinaÃ±u feeÃ± ci fii ci boppam.',
  'provider.gotIt': 'FÃ ttalik',
  // Service provider recommendation translations
  'services.recommendedBy': 'Ndigaal naÃ±u ko',
  'services.recommendedByNetwork': 'nit ci sa mbokk',
  'services.recommendedByOne': 'nit ci sa mbokk',
  'services.noNetworkRecommendations': 'Amul nit ci sa mbokk Ã±u ndiggal naÃ±u ko',
  'services.viewAllRecommendations': 'Xool ndigaal yÃ©pp',
  'services.recommendations': 'Ndigaal yi',
  'services.peopleWhoRecommended': 'Nit Ã±i daÃ±u ndiggal sarwiiser bi',
};

const catalogs: Record<string, Messages> = { en, fr, wo };

interface I18nContextType {
  lang: string;
  t: (key: string) => string;
  setLang: (lang: string) => void;
  isHydrated: boolean;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export function I18nProvider({ children, forcedLang }: { children: React.ReactNode, forcedLang?: string }) {
  const { user } = useAuth();
  const preferred = (typeof window !== 'undefined' && localStorage.getItem('pref:lang')) || undefined;
  // Always start with 'en' to prevent hydration mismatches, then update in useEffect
  const [lang, setLangState] = useState<string>('en');
  const [isHydrated, setIsHydrated] = useState(false);
  
  useEffect(() => {
    // Mark as hydrated after first render
    setIsHydrated(true);
    
    if (forcedLang) {
      setLangState(forcedLang);
    } else {
      const next = (user?.language as string) || preferred || 'en';
      setLangState(next);
    }
  }, [user?.language, forcedLang, preferred]);
  const setLang = (l: string) => {
    setLangState(l);
    if (typeof window !== 'undefined') {
      const path = window.location?.pathname || '';
      // Only persist if no forcedLang and not on public auth route
      if (!forcedLang && !path.startsWith('/auth')) {
        localStorage.setItem('pref:lang', l);
      }
    }
  };
  const messages = catalogs[lang] || catalogs.en;
  const value = useMemo(() => ({
    lang,
    t: (key: string) => messages[key] || catalogs.en[key] || key,
    setLang,
    isHydrated,
  }), [lang, messages, isHydrated]);
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
}


